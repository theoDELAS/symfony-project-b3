{% extends 'base.html.twig' %}

{% block title %}Hello UserController!{% endblock %}

{% block body %}
<div class="main-container py-5">
    <div class="posts grid grid-cols-6 items-center mb-10">
        <div class="col-span-2 avatar mr-5 flex justify-center">
            <img class="rounded-full border border-gray-100 shadow-sm" src="http://placehold.it/100x100" alt="avatar de {{ user.firstName }}">
        </div>
        <div class="col-span-4 personal-infos">
            <div class="flex items-center justify-left mb-4">
                <div class="mr-8 text-2xl font-thin">{{ user.name }}</div>
                <a href="" class="transition duration-300 border-2 ease-in-out hover:bg-gray-200 transform rounded-lg px-2 py-1">
                    Modifier mon profil
                </a>
            </div>
            <div class="flex">
                <div class="posts mr-8">
                    <strong>{{ user.posts | length }}</strong> publication{% if user.posts | length > 0 %}s{% endif %}
                </div>
                <div class="likes">
                    <strong>{{ user.likes | length }}</strong> publications aimée{% if user.likes | length > 0 %}s{% endif %}
                </div>

            </div>
        </div>
    </div>
    <div class="border-t-2 pb-5" x-data="{ selected: 'option-1' }">
        <nav class="flex justify-center">
            <ul class="flex text-gray-400">
                <li class="px-10 pt-4" :class="{ 'text-black border-t-2 border-gray-200': selected === 'option-1' }">
                    <a href="#option-1" @click="selected = 'option-1'" class="flex">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-5 mr-1">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                        </svg>
                        <span>PUBLICATIONS</span>
                    </a>
                </li>
                <li class="px-4 pt-4" :class="{ 'text-black border-t-2 border-gray-200': selected === 'option-2' }">
                    <a href="#option-2" @click="selected = 'option-2'" class="flex">
                         <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-5 mr-1">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                        </svg>
                        <span>PUBLICATIONS AIMÉE</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div x-show.transition.in.opacity.duration.300ms="selected === 'option-1'" class="pt-4 grid grid-cols-3 gap-6">
            {% if user.posts | length == 0 %}
                <div class="text-center">
                    Vous n'avez aucune publication. <a href="#" class="text-blue-600 hover:text-blue-400">Publiez-en une !</a>
                </div>
            {% else %}
                {% for post in user.posts %}
                    <div class="col-span-1">
                        <img class="picture-post" src="{{ post.picture }}" alt="">
                    </div>
                {% endfor %}
            {% endif %}
        </div>

        <div x-show.transition.in.opacity.duration.300ms="selected === 'option-2'" class="pt-4 grid grid-cols-3 gap-6">
           {% if user.likes | length == 0 %}
                <div class="text-center">
                    Vous n'avez aimé aucune publication.
                </div>
            {% else %}
                {% for like in user.likes %}
                    <div class="col-span-1">
                        <img class="picture-post" src="{{ like.post.picture }}" alt="">
                    </div>
                {% endfor %}
            {% endif %}
        </div>
  </div>
    {# <nav class="flex items-center justify-center border-t-2 pt-3 pb-5">
        <ul class="flex items-center space-x-10">
            <li>
                <a href="#" class="flex">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-5 mr-1">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                    </svg>
                    <span>PUBLICATIONS</span>
                </a>
            </li>
            <li>
                <a href="#" class="flex">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-5 mr-1">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                    </svg>
                    <span>PUBLICATIONS AIMÉE</span>
                </a>
            </li>    
        </ul>
    </nav> #}

    
</div>
{% endblock %}
